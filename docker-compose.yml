services:
  rust-server:
    build: .
    container_name: rust-server
    restart: unless-stopped
    network_mode: "host"
    volumes:
      - ./server-data:/home/steam/rust
      # Optional: Cache steamcmd to avoid redownloading on container rebuild
      - ./steamcmd-data:/home/steam/steamcmd 
    env_file:
      - .env
    ulimits:
      nofile:
        soft: 65536
        hard: 65536
